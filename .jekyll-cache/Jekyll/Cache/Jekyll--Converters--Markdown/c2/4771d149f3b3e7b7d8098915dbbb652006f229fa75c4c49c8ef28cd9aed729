I"È <ul id="markdown-toc">
  <li><a href="#hurst-exponent" id="markdown-toc-hurst-exponent">Hurst Exponent</a></li>
  <li><a href="#environment" id="markdown-toc-environment">Environment</a></li>
  <li><a href="#user-guide" id="markdown-toc-user-guide">User Guide</a></li>
  <li><a href="#tips" id="markdown-toc-tips">Tips</a></li>
  <li><a href="#èµ«æ–¯ç‰¹æŒ‡æ•°ç®€ä»‹" id="markdown-toc-èµ«æ–¯ç‰¹æŒ‡æ•°ç®€ä»‹">èµ«æ–¯ç‰¹æŒ‡æ•°ç®€ä»‹</a></li>
  <li><a href="#ç®€å•åº”ç”¨" id="markdown-toc-ç®€å•åº”ç”¨">ç®€å•åº”ç”¨</a></li>
  <li><a href="#é€‰å–å®ä¾‹" id="markdown-toc-é€‰å–å®ä¾‹">é€‰å–å®ä¾‹</a>    <ul>
      <li><a href="#è¿è¡Œåè¿™æ ·çš„" id="markdown-toc-è¿è¡Œåè¿™æ ·çš„">è¿è¡Œåè¿™æ ·çš„</a></li>
      <li><a href="#ä¸Šä»£ç " id="markdown-toc-ä¸Šä»£ç ">ä¸Šä»£ç !</a></li>
    </ul>
  </li>
</ul>

<h2 id="hurst-exponent">Hurst Exponent</h2>
<p>Calculates the Hurst exponent of a time series based on Rescaled range (R/S) analysis.<br />
Reference: https://en.wikipedia.org/wiki/Hurst_exponent</p>
<h2 id="environment">Environment</h2>
<p>Python 3.6.2 AMD64<br />
numpy (1.13.3+mkl)<br />
pandas (0.20.3)</p>
<h2 id="user-guide">User Guide</h2>
<p>import Hurst<br />
ts = list(range(50))<br />
hurst = Hurst.hurst(ts)</p>
<h2 id="tips">Tips</h2>
<p>The input ts has to be object list(n_samples,) or np.array(n_samples,).</p>

<h2 id="èµ«æ–¯ç‰¹æŒ‡æ•°ç®€ä»‹">èµ«æ–¯ç‰¹æŒ‡æ•°ç®€ä»‹</h2>
<p>èµ«æ–¯ç‰¹æŒ‡æ•°ï¼ˆè‹±è¯­ï¼šHurst exponentï¼‰ä»¥è‹±å›½æ°´æ–‡å­¦å®¶å“ˆç½—å¾·Â·èµ«æ–¯ç‰¹å‘½åï¼Œèµ·åˆè¢«ç”¨æ¥åˆ†ææ°´åº“ä¸æ²³æµä¹‹é—´çš„è¿›å‡ºæµé‡ï¼Œåæ¥è¢«å¹¿æ³›ç”¨äºå„è¡Œå„ä¸šçš„åˆ†å½¢åˆ†æã€‚åˆ©ç”¨Hurstå‚æ•°å¯ä»¥è¡¨å¾ç½‘ç»œæµé‡çš„è‡ªç›¸ä¼¼æ€§ï¼ŒHurstå‚æ•°è¶Šå¤§ï¼Œè¯´æ˜æµé‡çš„è‡ªç›¸ä¼¼ç¨‹åº¦å°±è¶Šé«˜ï¼Œä¹Ÿå°±æ˜¯è¯´ç½‘ç»œçš„ä¸šåŠ¡æµé‡åœ¨å¾ˆé•¿çš„æ—¶é—´å†…éƒ½å…·æœ‰é•¿ç›¸å…³æ€§ï¼Œè¿™ä¸»è¦æ˜¯ç”±äºç½‘ç»œæµé‡çš„çªå‘æ€§é€ æˆçš„ã€‚ç°æœ‰çš„æ–‡çŒ®ç»™å‡ºçš„ä¼°è®¡æ–¹æ³•ä¸»è¦æ˜¯ä¸¤å¤§ç±»ï¼šæ—¶åŸŸæ³•å’Œé¢‘åŸŸæ³•ï¼Œå…¶ä¸­æ—¶åŸŸæ³•åŒ…æ‹¬R/Såˆ†ææ³•[1]ã€æ—¶é—´æ–¹å·®å›¾æ³•[2][3]ã€IDCæ³•ï¼Œé¢‘åŸŸæ³•åŒ…æ‹¬Whittleçš„æœ€å¤§ä¼¼ç„¶ä¼°è®¡[4]ã€å°æ³¢æ³•[5]ç­‰ã€‚å¸¸ç”¨çš„Hurstä¼°å€¼ç®—æ³•éƒ½æœ‰ä¸åŒçš„é€‚ç”¨æ¡ä»¶ï¼Œä¸èƒ½å¹¿æ³›çš„åº”ç”¨äºå„ç§æƒ…å†µï¼Œå› ä¸ºæ¯ä¸€ç§ç®—æ³•åœ¨æ—¶åŸŸæˆ–è€…æ˜¯é¢‘åŸŸçš„èŒƒå›´å†…åº”ç”¨äº†æ±‚å’Œå¹³å‡çš„æ–¹æ³•ï¼Œè¿™æ ·å°±ä¼šä½¿å¾—æ—¶é—´åºåˆ—çš„é«˜çªå‘å¯å˜çš„ç»†èŠ‚ä¿¡æ¯ä¸¢å¤±ï¼Œä»è€Œå¯¼è‡´å‡ºä¼°ç®—ç»“æœä¸ºè´Ÿå€¼ï¼Œå¢å¤§äº†ä¼°è®¡è¯¯å·®ã€‚</p>

<h2 id="ç®€å•åº”ç”¨">ç®€å•åº”ç”¨</h2>
<p>æ—¶åŸŸæ³•æ˜¯ç›´æ¥å¯¹æ—¶é—´åºåˆ—è¿›è¡Œå¤„ç†ï¼Œå¹¶ç”¨æœ€å°äºŒä¹˜æ³•æ‹Ÿåˆä¼°è®¡å‡ºHurstå‚æ•°ï¼Œé¢‘åŸŸæ³•é€šè¿‡åˆ©ç”¨FFTå¯¹æ—¶é—´åºåˆ—çš„è°±å¯†åº¦è¿›è¡Œä¼°è®¡ã€‚æ—¶åŸŸæ³•åŠé¢‘åŸŸæ³•éƒ½è¦æ±‚æ•´ä¸ªè§‚å¯Ÿæ—¶é—´æ®µå†…å…¨éƒ¨çš„æ—¶é—´åºåˆ—ï¼Œå½“æ—¶é—´èŒƒå›´è¾ƒå¤§æ—¶ï¼Œå°±éœ€è¦å¤§é‡çš„åºåˆ—æ ·æœ¬å’Œé«˜é‡‡æ ·ç‡ï¼ŒåŒæ—¶å¾ˆéš¾è§‚å¯Ÿåˆ°Hurstå‚æ•°çš„æ—¶å˜æ€§ã€‚åŒæ—¶ï¼Œå¯¹æœ‰é™é•¿åº¦çš„æ—¶é—´åºåˆ—è¿›è¡ŒHurstä¼°ç®—ï¼Œç»“æœè™½ç„¶å¯ä»¥åæ˜ å‡ºç½‘ç»œæµé‡å±€éƒ¨çš„çªå‘æ€§ï¼Œä½†æ˜¯ç”±äºä¼°å€¼ç®—æ³•å®¹æ˜“å—åˆ°å„ç§å› ç´ çš„å¹²æ‰°è€Œäº§ç”Ÿè¯¯å·®ï¼Œå¹¶ä¸”ç”±äºç›¸é‚»çš„ä¼°ç®—å€¼ä¹‹é—´æ²¡æœ‰æ•°æ®å…³è”ï¼Œå°±ä¸èƒ½å¤Ÿä½“ç°å‡ºçªå‘çš„æ¸è¿›æ€§ã€‚å› æ­¤å¦‚ä½•ä¼°ç®—å‡ºæ— é™å¢é•¿çš„æµé‡çš„çªå‘æ€§ï¼ŒåŒæ—¶åˆèƒ½å¤Ÿä½“ç°å‡ºç½‘ç»œæµé‡å˜åŒ–çš„å…¨å±€æ¸è¿›æ€§ï¼Œå¹¶ä¸”è¿˜èƒ½å¤Ÿä½“ç°å‡ºå±€éƒ¨å˜åŒ–çš„æ—¶å˜æ€§ï¼Œè¿™äº›éƒ½éœ€è¦åšè¿›ä¸€æ­¥çš„ç ”ç©¶ã€‚æ¯”å¦‚ï¼Œåœ¨IDCåŸºç¡€ä¸Šå®šä¹‰å¤æ•°å–å€¼çš„èµ«æ–¯ç‰¹æŒ‡æ•°ç­‰ç­‰ã€‚</p>

<h2 id="é€‰å–å®ä¾‹">é€‰å–å®ä¾‹</h2>
<p>æœ¬æ¬¡åˆ†æé€‰å–äº†ä¸Šäº¤æ‰€2009å¹´äº”æ”¯è‚¡ç¥¨78æ—¥çš„æ—¥æ”¶ç›Šç‡æ•°å€¼ï¼Œè¿›è¡Œèµ«æ–¯ç‰¹æŒ‡æ•°çš„å¯¹æ¯”åˆ†æ
<img src="https://i.loli.net/2019/10/19/JImzgMXVEZYlvNK.png" alt="image.png" />
é¦–å…ˆåˆ©ç”¨Rè¯­è¨€è¿›è¡Œæè¿°æ€§åˆ†æç§ä¸€ç§è¿™å‡ åªè‚¡ç¥¨éƒ½é•¿å•¥æ ·</p>
<blockquote>
  <p>install.packages(â€˜PerformanceAnalyticsâ€™)
install.packages(â€˜DAAGâ€™)
install.packages(â€˜readrâ€™); library(â€˜readrâ€™)</p>
</blockquote>

<blockquote>
  <p>a&lt;-read_csv(â€˜hurst.csvâ€™)
names(a)&lt;-c(â€˜yâ€™,â€™x2â€™,â€™x3â€™,â€™x4â€™,â€™x5â€™)
summary(a)</p>
  <h3 id="è¿è¡Œåè¿™æ ·çš„">è¿è¡Œåè¿™æ ·çš„</h3>
  <p><img src="https://i.loli.net/2019/10/19/MYZKuHEG5xy1WIR.png" alt="image.png" />
å“‡è¿™å‡ åªè‚¡ç¥¨é•¿å¾—å¥½åƒå•Šæœ‰æ²¡æœ‰
å°¤å…¶æ˜¯å‰ä¸¤æ”¯è‚¡ç¥¨å…¶æ”¶ç›Šæ•°æ®å‡ ä¹é‡å ï¼ˆæ€¨ä¸å¾—å‘¢ï¼Œå›å¤´çœ‹çœ‹åŸå§‹æ•°æ®æœ¬æ¥å°±å¾ˆåƒï¼Œè¿æ¶¨è·Œéƒ½å¥½ä¼¼æ˜¯åŒæ­¥çš„ï¼‰
å› ä¸º1ï¼Œ2è‚¡ç¥¨ç›¸è¿‘ï¼Œ3ï¼Œ4è‚¡ç¥¨æ”¶ç›Šç‡ä¹Ÿç›¸è¿‘ï¼Œé‚£ä¹ˆæˆ‘å°±é€‰å–1ï¼Œ3è¿›è¡Œèµ«æ–¯ç‰¹æŒ‡æ•°å¯¹æ¯”åˆ†æäº†ã€‚ã€‚ã€‚</p>
</blockquote>

<h3 id="ä¸Šä»£ç ">ä¸Šä»£ç !</h3>
<blockquote>
  <p>-<em>- coding: utf-8 -</em>-
 Reference: https://en.wikipedia.org/wiki/Hurst_exponent
 python 3.6.2 AMD64
 2018/4/19
Calculate Hurst exponent based on Rescaled range (R/S) analysis</p>
</blockquote>

<blockquote>
  <p>import Hurst 
 ts = list(range(50))
 hurst = Hurst.hurst(ts)
 Tip: ts has to be object list(n_samples,) or np.array(n_samples,)
  <strong>Author</strong> = â€œBlank Seraphâ€</p>
</blockquote>

<blockquote>
  <p>import numpy as np
import pandas as pd
import  csv</p>
</blockquote>

<blockquote>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> def hurst(ts):
 N = len(ts)
 print(N)
  if N &lt; 20:
 raise ValueError("Time series is too short! input series ought to have at least 20 samples!")    max_k = int(np.floor(N/2))    R_S_dict = []
for k in range(10,max_k+1):
   R,S = 0,0    # split ts into subsets    subset_list = [ts[i:i+k] for i in range(0,N,k)]
</code></pre></div>  </div>
</blockquote>

<blockquote>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if np.mod(N,k)&gt;0:
   subset_list.pop()   #tail = subset_list.pop()  #subset_list[-1].extend(tail)
   # calc mean of every subset
mean_list=[np.mean(x) for x in subset_list]
</code></pre></div>  </div>
</blockquote>

<blockquote>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> for i in range(len(subset_list)):
    cumsum_list = pd.Series(subset_list[i]-mean_list[i]).cumsum()
   R += max(cumsum_list)-min(cumsum_list)
  S += np.std(subset_list[i])
</code></pre></div>  </div>
</blockquote>

<blockquote>
  <p>R_S_dict.append({â€œRâ€:R/len(subset_list),â€Sâ€:S/len(subset_list),â€nâ€:k})
   log_R_S = []
  log_n = []
 # print(R_S_dict)</p>
</blockquote>

<blockquote>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for i in range(len(R_S_dict)):
   R_S = (R_S_dict[i]["R"]+np.spacing(1)) / (R_S_dict[i]["S"]+np.spacing(1))
log_R_S.append(np.log(R_S))
</code></pre></div>  </div>
</blockquote>

<blockquote>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>log_n.append(np.log(R_S_dict[i]["n"]))
 Hurst_exponent = np.polyfit(log_n,log_R_S,1)[0]
print(Hurst_exponent)
return Hurst_exponent
</code></pre></div>  </div>
</blockquote>

<blockquote>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> if __name__ == '__main__':
    ts = list()
</code></pre></div>  </div>
</blockquote>

<blockquote>
  <p>with open(â€˜C:/Users/13760/Desktop/hurst.csvâ€™, mode=â€™râ€™, encoding=â€™utf-8â€™) as infile:
  read = csv.reader(infile)
 for line in read:
  ts.append(line[1])</p>
</blockquote>

<blockquote>
  <p># print(ts)</p>
</blockquote>

<blockquote>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> N = len(ts)
 ts = np.array(ts)
 ts = ts.astype(np.float)
      hurst(ts)
</code></pre></div>  </div>
</blockquote>

<p>ç„¶åæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™å‡ æ”¯è‚¡ç¥¨çš„hurstæŒ‡æ•°ç©¶ç«Ÿå’‹æ ·ï¼Ÿï¼ˆåˆ†åˆ«ä¿®æ”¹ts.append(line[1]å’Œline[2])è¿è¡Œ
å¯å¾—ç¬¬ä¸€æ”¯è‚¡ç¥¨çš„hurstæŒ‡æ•°ä¸º0.4386795017068711ï¼›ç¬¬äºŒæ”¯è‚¡ç¥¨ä¸º0.5293240661196189
ï¼›ç¬¬ä¸‰æ”¯è‚¡ç¥¨ä¸º0.6555969221053866ï¼›ç¬¬å››æ”¯ä¸º0.5492369921528519ï¼›ç¬¬äº”æ”¯ä¸º0.37444714098902215ã€‚
hurstæŒ‡æ•°çš„å–å€¼èŒƒå›´åœ¨ 0 å’Œ 1 ä¹‹é—´ï¼ˆä¸åŒ…æ‹¬ 0 å’Œ 1ï¼‰ã€‚å½“hurstæŒ‡æ•°=0.5æ—¶ï¼Œè¯¥æ—¶é—´åºåˆ—æ²¡æœ‰ç›¸å…³æ€§ã€‚å½“hurstæŒ‡æ•°åœ¨0.5~1æ—¶ï¼Œè¯¥æ—¶é—´åºåˆ—æœ‰é•¿è®°å¿†æ€§ï¼›å½“hurstæŒ‡æ•°åœ¨0~0.5æ—¶ï¼Œè¯¥æ—¶é—´åºåˆ—è¡¨ç°å‡ºåæŒç»­æ€§ï¼Œå› æ­¤å®ƒè¡¨ç°å‡ºæ¯”çº¯éšæœºæ›´å¼ºçš„æ³¢åŠ¨ï¼Œç”±æ­¤å¯ä»¥çœ‹å‡ºç¬¬ä¸€æ”¯å’Œç¬¬äº”æ”¯è‚¡ç¥¨çš„æ³¢åŠ¨æ€§è¾ƒå¼ºï¼Œç¬¬äºŒæ”¯ç¬¬å››æ”¯è‚¡ç¥¨æ³¢åŠ¨æ¥è¿‘éšæœºï¼Œè€Œç¬¬ä¸‰æ”¯è‚¡ç¥¨åˆ™ç›¸å¯¹ç¨³å¥å‘ˆç°æŒç»­æ€§å‘¨æœŸæ€§çš„æ³¢åŠ¨ï¼Œç”±äºä¸‰å››æ”¯è‚¡ç¥¨æ”¶ç›Šç‡æ•´ä½“ä¸Šç›¸è¿‘ï¼Œæ‰€ä»¥é€‰å–ç¬¬ä¸‰æ”¯è‚¡ç¥¨æ¯”è¾ƒç¨³å¦¥ã€‚</p>
:ET